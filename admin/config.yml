backend:
  name: github
  repo: JoeHart/joe-simple-site
  branch: master
  base_url: https://www.joehart.co.uk
  auth_endpoint: api/auth

publish_mode: simple

media_folder: "img/uploads"
public_folder: "/img/uploads"

collections:
  - name: "blog"
    label: "Blog"
    folder: "blogs"
    create: true
    slug: "{{slug}}"
    format: "frontmatter"
    extension: "md"
    summary: "{{draft | ternary('DRAFT: ','')}}{{title}} â€” {{year}}-{{month}}-{{day}}"
    sortable_fields:
      fields: [title, date, draft]
      default:
        field: date
        direction: descending
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", time_format: false }
      - { label: "Draft", name: "draft", widget: "boolean", default: true, hint: "Uncheck to publish" }
      - { label: "Description", name: "description", widget: "text", required: false }
      - label: "Tags"
        name: "tags"
        widget: "list"
        required: false
        allow_add: true
        collapsed: false
        field: { label: "Tag", name: "tag", widget: "string" }
      - { label: "Layout", name: "layout", widget: "hidden", default: "layouts/post.njk" }
      - label: "Emoji"
        name: "emoji"
        widget: "string"
        required: false
        default: "ğŸ“"
        hint: "Common: ğŸ“ ğŸ“£ ğŸ“š ğŸ“˜ ğŸ¤” ğŸ•¹ï¸ ğŸª™ ğŸ“‚ ğŸ–‹ï¸ ğŸ”— ğŸ’» ğŸ”§ ğŸ’¡ ğŸš€"
      - label: "Hero Image"
        name: "hero"
        widget: "image"
        required: false
        hint: "Used as hero image on post and for social sharing"
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "notes"
    label: "Notes"
    folder: "notes"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    format: "frontmatter"
    extension: "md"
    summary: "{{body | truncate(80)}} â€” {{year}}-{{month}}-{{day}}"
    sortable_fields:
      fields: [date]
      default:
        field: date
        direction: descending
    editor:
      preview: false
    fields:
      - { label: "Date", name: "date", widget: "datetime", time_format: false }
      - { label: "Syndicate", name: "syndicate", widget: "boolean", default: true, hint: "Post to Mastodon and Bluesky" }
      - label: "Tags"
        name: "tags"
        widget: "list"
        required: false
        allow_add: true
        collapsed: false
        field: { label: "Tag", name: "tag", widget: "string" }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "talks"
    label: "Talks"
    folder: "talks"
    create: true
    slug: "{{slug}}"
    format: "frontmatter"
    extension: "md"
    summary: "{{draft | ternary('DRAFT: ','')}}{{title}} â€” {{year}}-{{month}}-{{day}}"
    sortable_fields:
      fields: [title, date, draft]
      default:
        field: date
        direction: descending
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime", time_format: false }
      - { label: "Draft", name: "draft", widget: "boolean", default: true, hint: "Uncheck to publish" }
      - { label: "Description", name: "description", widget: "text", required: false }
      - label: "Tags"
        name: "tags"
        widget: "list"
        required: false
        allow_add: true
        collapsed: false
        default: ["talk"]
        field: { label: "Tag", name: "tag", widget: "string" }
      - { label: "Layout", name: "layout", widget: "hidden", default: "layouts/post.njk" }
      - label: "Emoji"
        name: "emoji"
        widget: "string"
        required: false
        default: "ğŸ“£"
        hint: "Common: ğŸ“£ ğŸ¤ ğŸ™ï¸ ğŸ’¬ ğŸ—£ï¸ ğŸ¯ ğŸª ğŸ“º ğŸ¬"
      - label: "Hero Image"
        name: "hero"
        widget: "image"
        required: false
        hint: "Used as hero image on post and for social sharing"
      - { label: "Body", name: "body", widget: "markdown" }
